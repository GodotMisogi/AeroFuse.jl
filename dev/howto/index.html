<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How-to Guide · AeroMDAO</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-89998292-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-89998292-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/><link href="https://fonts.googleapis.com/css?family=Montesserat|Fira+Code&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="AeroMDAO logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">AeroMDAO</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials-airfoil/">Airfoil Aerodynamic Analysis</a></li><li><a class="tocitem" href="../tutorials-aircraft/">Aircraft Aerodynamic Analysis</a></li></ul></li><li class="is-active"><a class="tocitem" href>How-to Guide</a><ul class="internal"><li><a class="tocitem" href="#Airfoil-Geometry"><span>Airfoil Geometry</span></a></li><li><a class="tocitem" href="#Doublet-Source-Aerodynamic-Analyses"><span>Doublet-Source Aerodynamic Analyses</span></a></li><li><a class="tocitem" href="#Wing-Geometry"><span>Wing Geometry</span></a></li><li><a class="tocitem" href="#Vortex-Lattice-Aerodynamic-Analyses"><span>Vortex Lattice Aerodynamic Analyses</span></a></li><li><a class="tocitem" href="#Aerodynamic-Stability-Analyses"><span>Aerodynamic Stability Analyses</span></a></li><li><a class="tocitem" href="#Euler-Bernoulli-Beam-Structural-Analysis"><span>Euler-Bernoulli Beam Structural Analysis</span></a></li></ul></li><li><a class="tocitem" href="../theory/">Theory</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../geometry/">Geometry API</a></li><li><a class="tocitem" href="../aerodynamics/">Aerodynamics API</a></li><li><a class="tocitem" href="../structures/">Structures API</a></li><li><a class="tocitem" href="../development/">In-Progress API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>How-to Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How-to Guide</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GodotMisogi/AeroMDAO.jl/blob/main/docs/lit/howto.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-Guide"><a class="docs-heading-anchor" href="#How-to-Guide">How-to Guide</a><a id="How-to-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-Guide" title="Permalink"></a></h1><h2 id="Airfoil-Geometry"><a class="docs-heading-anchor" href="#Airfoil-Geometry">Airfoil Geometry</a><a id="Airfoil-Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Airfoil-Geometry" title="Permalink"></a></h2><p>How to work with airfoil geometry.</p><h3 id="Import-Coordinates-File"><a class="docs-heading-anchor" href="#Import-Coordinates-File">Import Coordinates File</a><a id="Import-Coordinates-File-1"></a><a class="docs-heading-anchor-permalink" href="#Import-Coordinates-File" title="Permalink"></a></h3><p>You can specify the path consisting of the foil&#39;s coordinates to the <code>read_foil</code> function. The format requires a header for the name by default, but this can be disabled and a custom name can be provided by setting the optional <code>header</code> and <code>name</code> variables.</p><pre><code class="language-julia hljs"># Airfoil coordinates file path
foilpath = string(@__DIR__, &quot;/misc/s1223.dat&quot;)

# Read coordinates file
my_foil = read_foil(foilpath;
                    header = true,
                    name   = &quot;&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">S1223HiRes Foil{Float64} with 300 points.</code></pre><h3 id="Interpolate-and-Process-Coordinates"><a class="docs-heading-anchor" href="#Interpolate-and-Process-Coordinates">Interpolate and Process Coordinates</a><a id="Interpolate-and-Process-Coordinates-1"></a><a class="docs-heading-anchor-permalink" href="#Interpolate-and-Process-Coordinates" title="Permalink"></a></h3><p>A basic cosine interpolation functionality is provided for foils.</p><pre><code class="language-julia hljs"># Cosine spacing with approx. 51 points on upper and lower surfaces each
cos_foil = cosine_spacing(my_foil, 51)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">S1223HiRes Foil{Float64} with 99 points.</code></pre><p>The upper and lower surfaces can be obtained by the following variety of functions.</p><pre><code class="language-julia hljs"># Upper surface
upper = upper_surface(my_foil)

# Lower surface
lower = lower_surface(my_foil)

# Upper and lower surfaces
upper, lower = split_surface(my_foil)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">([-2.0e-5 -0.00073; -1.0e-5 0.00056; … ; 0.99747 0.00201; 1.0 0.0], [-2.0e-5 -0.00073; 3.0e-5 -0.00202; … ; 0.99724 0.00181; 1.0 0.0])</code></pre><p>The camber-thickness distribution can be obtained as follows. It internally performs a cosine interpolation to standardize the <span>$x$</span>–coordinates for both surfaces; hence the number of points for the interpolation can be specified.</p><pre><code class="language-julia hljs">xcamthick = camber_thickness(my_foil, 60)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">61×3 Matrix{Float64}:
 -2.0e-5       -0.00073      0.0
  0.000665246  -0.000103545  0.0131941
  0.00271911    0.00140809   0.0253705
  0.00613595    0.00427857   0.0357984
  0.0109064     0.00778374   0.0454939
  0.0170174     0.0117266    0.0544325
  0.0244522     0.0157232    0.062965
  0.0331905     0.0197388    0.0711032
  0.0432081     0.0238864    0.0787188
  0.0544778     0.0281512    0.0859702
  ⋮                          
  0.956772      0.0258768    0.00711538
  0.96679       0.0215048    0.00648942
  0.975528      0.0170696    0.00568108
  0.982963      0.0125663    0.004409
  0.989074      0.00823593   0.00275198
  0.993844      0.00459691   0.00128503
  0.997261      0.00199618   0.000399771
  0.999315      0.000496894  9.50226e-5
  1.0           0.0          0.0</code></pre><p>You can also do the inverse transformation.</p><pre><code class="language-julia hljs">coords = camber_thickness_to_coordinates(xcamthick[:,1], xcamthick[:,2], xcamthick[:,3])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">122×2 Matrix{Float64}:
 1.0       0.0
 0.999315  0.000544405
 0.997261  0.00219607
 0.993844  0.00523942
 0.989074  0.00961193
 0.982963  0.0147708
 0.975528  0.0199101
 0.96679   0.0247495
 0.956772  0.0294345
 0.945502  0.0341168
 ⋮         
 0.956772  0.0223191
 0.96679   0.0182601
 0.975528  0.014229
 0.982963  0.0103618
 0.989074  0.00685994
 0.993844  0.00395439
 0.997261  0.0017963
 0.999315  0.000449383
 1.0       0.0</code></pre><h3 id="Control-Surfaces"><a class="docs-heading-anchor" href="#Control-Surfaces">Control Surfaces</a><a id="Control-Surfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Control-Surfaces" title="Permalink"></a></h3><p>You can (somewhat) mimic the behaviour of a control surface by specifying a deflection angle <span>$\delta$</span> (clockwise-positive convention) with the specification of the hinge location&#39;s <span>$x$</span>-coordinate normalized in <span>$[0,1]$</span> to the chord length.</p><pre><code class="language- hljs">con_foil = control_surface(cos_foil; angle = 5., )</code></pre><h2 id="Doublet-Source-Aerodynamic-Analyses"><a class="docs-heading-anchor" href="#Doublet-Source-Aerodynamic-Analyses">Doublet-Source Aerodynamic Analyses</a><a id="Doublet-Source-Aerodynamic-Analyses-1"></a><a class="docs-heading-anchor-permalink" href="#Doublet-Source-Aerodynamic-Analyses" title="Permalink"></a></h2><p>The <code>solve_case</code> method runs the analysis given a <code>Foil</code> containing the airfoil coordinates, a <code>Uniform2D</code> defining the boundary conditions, and an optional named specification for the number of panels. It returns a system which can be used to obtain the aerodynamic quantities of interest and post-processing.</p><pre><code class="language-julia hljs"># Define freestream boundary conditions
uniform = Uniform2D(1.0, 4.0)

# Solve system
system  = solve_case(my_foil, uniform;
                     num_panels = 80)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">DoubletSourceSystem —
78 Panel2D{Float64} Elements
</code></pre><p>The following functions compute the quantities of interest, such as the inviscid edge velocities, lift coefficient, and the sectional lift, moment, and pressure coefficients.</p><pre><code class="language-julia hljs">cls, cms, cps = surface_coefficients(system);
u_es   = surface_velocities(system)
cl     = lift_coefficient(system)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.4758914372231922</code></pre><p>AeroMDAO provides more helper functions for the panel geometry.</p><pre><code class="language-julia hljs">panels   = system.surface_panels
pts      = collocation_point.(panels) # Collocation points
tangents = panel_tangent.(panels)     # Tangents
normals  = panel_normal.(panels)      # Normals
locs     = panel_location.(panels);   # Upper or lower surface</code></pre><h2 id="Wing-Geometry"><a class="docs-heading-anchor" href="#Wing-Geometry">Wing Geometry</a><a id="Wing-Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Wing-Geometry" title="Permalink"></a></h2><pre><code class="language-julia hljs"># To define one side of a wing, AeroMDAO provides a `HalfWing` constructor.
airfoil    = naca4((2,4,1,2))
wing_right = HalfWing(foils     = [ airfoil for i in 1:3 ],
                      chords    = [0.4, 0.2, 0.1],
                      twists    = [0., 2., 5.],
                      spans     = [1.0, 0.1],
                      dihedrals = [0., 60.],
                      sweeps    = [0., 30.],
                      w_sweep   = 0.25)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractWing with 2 spanwise section(s).
Aspect Ratio: 3.8421684144021975
Span (m): 1.1
Projected Area (m): 0.3149263305232454
Mean Aerodynamic Chord (m): 0.30370370370370375
Mean Aerodynamic Center (m): [0.10257547512005723, 0.26031746031746034, 0.0]
</code></pre><p>The <code>Wing</code> constructor takes left and right <code>HalfWing</code>s to define a full wing. For example, the following generates a symmetric wing.</p><pre><code class="language-julia hljs">wing = Wing(wing_right, wing_right)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractWing with 4 spanwise section(s).
Aspect Ratio: 7.684336828804395
Span (m): 2.2
Projected Area (m): 0.6298526610464908
Mean Aerodynamic Chord (m): 0.30370370370370375
Mean Aerodynamic Center (m): [0.10257547512005723, 0.0, 0.0]
</code></pre><p>The following &quot;getter&quot; functions provide quantities of interest such as chord lengths, spans, twist, dihedral, and sweep angles.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; foils(wing)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Foil{Float64}}:
 NACA 2412 Foil{Float64} with 79 points.
 NACA 2412 Foil{Float64} with 79 points.
 NACA 2412 Foil{Float64} with 79 points.
 NACA 2412 Foil{Float64} with 79 points.
 NACA 2412 Foil{Float64} with 79 points.</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; chords(wing)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Float64}:
 0.1
 0.2
 0.4
 0.2
 0.1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; spans(wing)</code><code class="nohighlight hljs ansi" style="display:block;">4-element Vector{Float64}:
 0.1
 1.0
 1.0
 0.1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; twists(wing)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Float64}:
 -0.08726646259971647
 -0.03490658503988659
 -0.0
 -0.03490658503988659
 -0.08726646259971647</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; dihedrals(wing)</code><code class="nohighlight hljs ansi" style="display:block;">4-element Vector{Float64}:
 1.0471975511965976
 0.0
 0.0
 1.0471975511965976</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; sweeps(wing)</code><code class="nohighlight hljs ansi" style="display:block;">4-element Vector{Float64}:
 0.7685774387251629
 0.049958395721942765
 0.049958395721942765
 0.7685774387251629</code></pre><p>There is also a convenient function for pretty-printing information, in which the first argument takes the <code>Wing</code> type and the second takes a name (as a <code>String</code> or <code>Symbol</code>).</p><pre><code class="language-julia hljs">print_info(wing, &quot;Wing&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">───────────────────────────────────────────────────
            Wing                     Value
───────────────────────────────────────────────────
        Aspect Ratio                7.68434
          Span (m)                    2.2
          Area (m²)                 0.629853
 Mean Aerodynamic Chord (m)         0.303704
 Mean Aerodynamic Center (m)  [0.102575, 0.0, 0.0]
───────────────────────────────────────────────────</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>You can use <a href="https://github.com/jw3126/Setfield.jl">Setfield.jl</a> to conveniently copy and modify properties of an existing object.</p></div></div><pre><code class="language-julia hljs"># Import Setfield
using Setfield

# Set only chords with other properties remaining identical.
wing_left = @set wing_right.chords = [0.4, 0.1, 0.05]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractWing with 2 spanwise section(s).
Aspect Ratio: 4.699979438743081
Span (m): 1.1
Projected Area (m): 0.2574479347772618
Mean Aerodynamic Chord (m): 0.2741100323624595
Mean Aerodynamic Center (m): [0.09130020970126478, 0.22394822006472492, 0.0]
</code></pre><p>To create an asymmetric wing, feed the left and right halves to <code>Wing</code> in the particular order.</p><pre><code class="language-julia hljs">wing = Wing(wing_left, wing_right);

print_info(wing, &quot;My Wing&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">──────────────────────────────────────────────────────────
           My Wing                       Value
──────────────────────────────────────────────────────────
        Aspect Ratio                    8.45601
          Span (m)                        2.2
          Area (m²)                    0.572374
 Mean Aerodynamic Chord (m)            0.288907
 Mean Aerodynamic Center (m)  [0.0969378, 0.0181846, 0.0]
──────────────────────────────────────────────────────────</code></pre><h2 id="Vortex-Lattice-Aerodynamic-Analyses"><a class="docs-heading-anchor" href="#Vortex-Lattice-Aerodynamic-Analyses">Vortex Lattice Aerodynamic Analyses</a><a id="Vortex-Lattice-Aerodynamic-Analyses-1"></a><a class="docs-heading-anchor-permalink" href="#Vortex-Lattice-Aerodynamic-Analyses" title="Permalink"></a></h2><p>How to run a generic aerodynamic analysis on a conventional aircraft configuration.</p><h3 id="Geometry"><a class="docs-heading-anchor" href="#Geometry">Geometry</a><a id="Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Geometry" title="Permalink"></a></h3><p>First we define the lifting surfaces. These can be a combination of <code>Wing</code> or <code>HalfWing</code> types constructed using the various methods available.</p><div class="admonition is-warning"><header class="admonition-header">Alert</header><div class="admonition-body"><p>Support for fuselages and control surfaces will be added soon.</p></div></div><pre><code class="language-julia hljs"># Wing
wing  = WingSection(span       = 8.0,
                    dihedral   = 5.0,
                    sweep      = 15.0,
                    taper      = 0.4,
                    root_chord = 2.0,
                    root_twist = 0.0,
                    tip_twist  = -2.0,
                    root_foil  = naca4(2,4,1,2),
                    tip_foil   = naca4(2,4,1,2),
                    position   = [0., 0., 0.])

# Horizontal tail
htail = WingSection(span       = 2.0,
                    dihedral   = 0.0,
                    sweep      = 15.0,
                    taper      = 0.6,
                    root_chord = 0.8,
                    root_twist = 0.0,
                    tip_twist  = 0.0,
                    root_foil  = naca4(0,0,1,2),
                    tip_foil   = naca4(0,0,0,9),
                    position   = [5., 0., -0.1],
                    angle      = 0.,
                    axis       = [0., 1., 0.]);

# Vertical tail
vtail = HalfWingSection(span       = 0.8,
                        dihedral   = 0.0,
                        sweep      = 8.0,
                        taper      = 0.6,
                        root_chord = 0.8,
                        root_twist = 0.0,
                        tip_twist  = 0.,
                        root_foil  = naca4(0,0,0,9),
                        tip_foil   = naca4(0,0,0,9),
                        position   = [5., 0., 0.],
                        angle      = 90.,
                        axis       = [1., 0., 0.])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractWing with 1 spanwise section(s).
Aspect Ratio: 1.2500000000000002
Span (m): 0.8
Projected Area (m): 0.512
Mean Aerodynamic Chord (m): 0.6533333333333332
Mean Aerodynamic Center (m): [5.21486497272421, 1.122592899218407e-17, 0.18333333333333332]
</code></pre><h3 id="Meshing"><a class="docs-heading-anchor" href="#Meshing">Meshing</a><a id="Meshing-1"></a><a class="docs-heading-anchor-permalink" href="#Meshing" title="Permalink"></a></h3><p>The <code>WingMesh</code> type takes a <code>HalfWing</code> or <code>Wing</code> type with a vector of integers consisting of the spanwise panel distribution corresponding to the number of sections, and an integer for the chordwise distribution.</p><pre><code class="language-julia hljs"># Wing meshes
wing_mesh  = WingMesh(wing, [20], 10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">WingMesh —
Spanwise panels: 40
Chordwise panels: 10
Spanwise spacing: AbstractSpacing[Sine()]
Chordwise spacing: Cosine()
</code></pre><p>Optionally the type of spanwise spacing can be specified by the keyword <code>span_spacing</code> and providing types <code>Sine(), Cosine(), Uniform()</code> or a vector of the combination with length corresponding to the number of sections.</p><pre><code class="language-julia hljs"># Horizontal tail
htail_mesh = WingMesh(htail, [10], 5;
                      span_spacing = Cosine()) # Uniform(), Sine()

# Vertical tail
vtail_mesh = WingMesh(vtail, [10], 5); # Vertical tail</code></pre><h3 id="Inviscid-Analysis"><a class="docs-heading-anchor" href="#Inviscid-Analysis">Inviscid Analysis</a><a id="Inviscid-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Inviscid-Analysis" title="Permalink"></a></h3><p>The inviscid 3D analysis uses a vortex lattice method. The <code>WingMesh</code> type allows you to generate horseshoe elements easily.</p><pre><code class="language-julia hljs">wing_horsies = make_horseshoes(wing_mesh)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10×40 StructArray(::Matrix{StaticArrays.SVector{3, Float64}}, ::Matrix{StaticArrays.SVector{3, Float64}}, ::Matrix{StaticArrays.SVector{3, Float64}}, ::Matrix{StaticArrays.SVector{3, Float64}}, ::Matrix{Float64}) with eltype Horseshoe{Float64}:
 Horseshoe{Float64}([1.07669, -4.0, 0.350125], [1.07341, -3.98767, 0.349046], [1.08486, -3.99383, 0.349927], [-8.81059e-5, 1.85924e-5, 0.000481147], 0.0)   …  Horseshoe{Float64}([1.07341, 3.98767, 0.349046], [1.07669, 4.0, 0.350125], [1.08486, 3.99383, 0.349927], [-8.81059e-5, -1.85924e-5, 0.000481147], 0.0)
 Horseshoe{Float64}([1.10558, -4.0, 0.351134], [1.10243, -3.98767, 0.350051], [1.13248, -3.99383, 0.351582], [-0.000156661, 8.12401e-5, 0.00139979], 0.0)      Horseshoe{Float64}([1.10243, 3.98767, 0.350051], [1.10558, 4.0, 0.351134], [1.13248, 3.99383, 0.351582], [-0.000156661, -8.12401e-5, 0.00139979], 0.0)
 Horseshoe{Float64}([1.17031, -4.0, 0.353393], [1.16746, -3.98767, 0.352303], [1.21324, -3.99383, 0.35439], [-0.000201961, 0.000140191, 0.00218169], 0.0)      Horseshoe{Float64}([1.16746, 3.98767, 0.352303], [1.17031, 4.0, 0.353393], [1.21324, 3.99383, 0.35439], [-0.000201961, -0.000140191, 0.00218169], 0.0)
 Horseshoe{Float64}([1.26456, -4.0, 0.356682], [1.26215, -3.98767, 0.355582], [1.31924, -3.99383, 0.358075], [-0.000177553, 0.000198733, 0.00275176], 0.0)     Horseshoe{Float64}([1.26215, 3.98767, 0.355582], [1.26456, 4.0, 0.356682], [1.31924, 3.99383, 0.358075], [-0.000177553, -0.000198733, 0.00275176], 0.0)
 Horseshoe{Float64}([1.37909, -4.0, 0.360679], [1.37721, -3.98767, 0.359567], [1.4401, -3.99383, 0.362277], [-0.000104019, 0.000243619, 0.00305358], 0.0)      Horseshoe{Float64}([1.37721, 3.98767, 0.359567], [1.37909, 4.0, 0.360679], [1.4401, 3.99383, 0.362277], [-0.000104019, -0.000243619, 0.00305358], 0.0)
 Horseshoe{Float64}([1.5027, -4.0, 0.364993], [1.50139, -3.98767, 0.363868], [1.56399, -3.99383, 0.366584], [-4.75064e-5, 0.000258661, 0.00305554], 0.0)    …  Horseshoe{Float64}([1.50139, 3.98767, 0.363868], [1.5027, 4.0, 0.364993], [1.56399, 3.99383, 0.366584], [-4.75064e-5, -0.000258661, 0.00305554], 0.0)
 Horseshoe{Float64}([1.62328, -4.0, 0.369201], [1.62253, -3.98767, 0.368063], [1.67879, -3.99383, 0.370575], [2.77923e-6, 0.000243795, 0.00275803], 0.0)       Horseshoe{Float64}([1.62253, 3.98767, 0.368063], [1.62328, 4.0, 0.369201], [1.67879, 3.99383, 0.370575], [2.77923e-6, -0.000243795, 0.00275803], 0.0)
 Horseshoe{Float64}([1.72903, -4.0, 0.372892], [1.72877, -3.98767, 0.371742], [1.77325, -3.99383, 0.373859], [3.36205e-5, 0.000199274, 0.00218988], 0.0)       Horseshoe{Float64}([1.72877, 3.98767, 0.371742], [1.72903, 4.0, 0.372892], [1.77325, 3.99383, 0.373859], [3.36205e-5, -0.000199274, 0.00218988], 0.0)
 Horseshoe{Float64}([1.80961, -4.0, 0.375704], [1.80972, -3.98767, 0.374546], [1.83813, -3.99383, 0.376115], [3.65617e-5, 0.000130164, 0.00140651], 0.0)       Horseshoe{Float64}([1.80972, 3.98767, 0.374546], [1.80961, 4.0, 0.375704], [1.83813, 3.99383, 0.376115], [3.65617e-5, -0.000130164, 0.00140651], 0.0)
 Horseshoe{Float64}([1.85711, -4.0, 0.377362], [1.85744, -3.98767, 0.376199], [1.86709, -3.99383, 0.377121], [1.53729e-5, 4.51952e-5, 0.000484747], 0.0)       Horseshoe{Float64}([1.85744, 3.98767, 0.376199], [1.85711, 4.0, 0.377362], [1.86709, 3.99383, 0.377121], [1.53729e-5, -4.51952e-5, 0.000484747], 0.0)</code></pre><p>For multiple lifting surfaces, it is most convenient to define a single vector consisting of all the components&#39; horseshoes using <a href="https://github.com/jonniedie/ComponentArrays.jl">ComponentArrays.jl</a>.</p><pre><code class="language-julia hljs">aircraft = ComponentVector(
                           wing  = wing_horsies,
                           htail = make_horseshoes(htail_mesh),
                           vtail = make_horseshoes(vtail_mesh)
                          );</code></pre><p>To define boundary conditions, use the following <code>Freestream</code> type, which takes named arguments for angles of attack and sideslip (in degrees), and a quasi-steady rotation vector.</p><pre><code class="language-julia hljs"># Define freestream conditions
fs = Freestream(alpha = 1.0,
                beta  = 0.0,
                omega = [0.,0.,0.])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Freestream: 
    alpha = 0.017453292519943295
    beta = 0.0
    omega = [0.0, 0.0, 0.0]
</code></pre><p>To define reference values, use the following <code>References</code> type.</p><pre><code class="language-julia hljs"># Define reference values
refs = References(
           speed     = 10.0,
           density   = 1.225,
           viscosity = 1.5e-5,
           area      = projected_area(wing),
           span      = span(wing),
           chord     = mean_aerodynamic_chord(wing),
           location  = mean_aerodynamic_center(wing)
          )</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">References: 
    speed = 10.0
    density = 1.225
    viscosity = 1.5e-5
    sound_speed = 330.0
    area = 11.198294185751582
    span = 8.0
    chord = 1.4857142857142858
    location = [0.8307700441676391, 0.0, 0.0]
</code></pre><p>The vortex lattice analysis can be executed with the horseshoes, freestream condition, and reference values defined.</p><pre><code class="language-julia hljs"># Solve system
system = solve_case(
             aircraft, fs, refs;
             print            = true, # Prints the results for only the aircraft
             print_components = true, # Prints the results for all components
            )</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">VortexLatticeSystem -
550 Horseshoe{Float64} Elements

Freestream: 
    alpha = 0.017453292519943295
    beta = 0.0
    omega = [0.0, 0.0, 0.0]

References: 
    speed = 10.0
    density = 1.225
    viscosity = 1.5e-5
    sound_speed = 330.0
    area = 11.198294185751582
    span = 8.0
    chord = 1.4857142857142858
    location = [0.8307700441676391, 0.0, 0.0]
</code></pre><h3 id="Dynamics"><a class="docs-heading-anchor" href="#Dynamics">Dynamics</a><a id="Dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamics" title="Permalink"></a></h3><p>The analysis computes the aerodynamic forces by surface pressure integration for nearfield forces. You can specify the axis system for the nearfield forces, with choices of geometry, body, wind, or stability axes. The wind axes are used by default.</p><pre><code class="language-julia hljs"># Compute dynamics
ax = Wind() # Body(), Stability(), Geometry()

# Compute non-dimensional coefficients
CFs, CMs = surface_coefficients(system; axes = ax)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">((wing = StaticArrays.SVector{3, Float64}[[2.550987038312937e-7, -1.0032968052917607e-6, -1.2930053141784862e-5] [9.925835324676026e-7, -4.229732704781461e-6, -5.4243366934388475e-5] … [9.92583532467199e-7, 4.2297327047814535e-6, -5.424336693438708e-5] [2.5509870383119566e-7, 1.0032968052917592e-6, -1.2930053141784528e-5]; [1.5067685424529447e-8, -1.4181291284559594e-8, -2.1665172065581027e-7] [3.585068261294078e-7, -7.177956996274753e-7, -9.720379038680266e-6] … [3.5850682612932523e-7, 7.177956996274757e-7, -9.720379038680014e-6] [1.5067685424529567e-8, 1.4181291284561638e-8, -2.166517206558352e-7]; … ; [6.961472141041044e-8, 2.978740909507965e-7, 3.171963162109674e-6] [2.759966681762223e-7, 1.258947187459109e-6, 1.3404740654565744e-5] … [2.759966681763166e-7, -1.2589471874590532e-6, 1.3404740654565159e-5] [6.961472141043099e-8, -2.978740909507834e-7, 3.171963162109535e-6]; [2.4906524901067402e-8, 8.924229608078414e-8, 9.480212523120736e-7] [7.764624404549666e-8, 3.120528422401311e-7, 3.3124582405774835e-6] … [7.764624404551985e-8, -3.1205284224011963e-7, 3.3124582405773683e-6] [2.4906524901073907e-8, -8.924229608078085e-8, 9.480212523120408e-7]], htail = StaticArrays.SVector{3, Float64}[[-1.139960733493428e-7, -5.235815702407091e-9, -5.378337409243636e-6] [-4.911673091986339e-7, -1.7674599027881826e-8, -2.4248472485836272e-5] … [-4.911673094022621e-7, 1.767459904733344e-8, -2.424847249322086e-5] [-1.1399607339574344e-7, 5.235815707308441e-9, -5.378337410823056e-6]; [-6.196808132581053e-8, 1.547139224712189e-10, -3.590927449901809e-6] [-3.628443405121166e-7, -4.248335852897802e-9, -1.966759073908965e-5] … [-3.628443406738779e-7, 4.248335863091766e-9, -1.9667590745668068e-5] [-6.196808135215555e-8, -1.5471392126491174e-10, -3.590927451093164e-6]; … ; [-1.5667762268496327e-8, 5.3580797559027805e-11, -9.773351956205186e-7] [-6.941931852547115e-8, 1.5984535414427613e-10, -4.214884366073113e-6] … [-6.941931854771089e-8, -1.5984535398844596e-10, -4.214884367114122e-6] [-1.5667762273516327e-8, -5.358079753492352e-11, -9.773351958722468e-7]; [-4.235416547259283e-9, -1.0008566020129523e-11, -2.6233176963692775e-7] [-1.4003311311380433e-8, -2.3694806331772363e-11, -8.488522797447481e-7] … [-1.400331131493288e-8, 2.3694806312983572e-11, -8.4885227991164e-7] [-4.235416548464046e-9, 1.0008566016034593e-11, -2.623317696978947e-7]], vtail = StaticArrays.SVector{3, Float64}[[2.664023700401786e-23, -3.968957268492826e-13, -3.963695142104705e-24] [4.771793813240272e-24, -2.9701106844563815e-13, -7.099623972434926e-25] … [-1.3821599319568345e-26, -4.335755228637181e-15, 2.056739688895078e-27] [-2.9367703951466396e-27, -9.152337082291065e-16, 4.3700927706662795e-28]; [9.00283930216701e-22, -2.7529192102669366e-12, -8.54614936184746e-23] [-3.118806642204981e-23, -5.334010982866331e-13, 2.960636488130839e-24] … [-1.1492982940485556e-26, -4.803258206329111e-15, 1.0912941802370422e-27] [1.837823436703285e-27, -1.3149207477861419e-15, -1.7437926512348815e-28]; … ; [-5.7391882744530436e-24, 1.9988775702605004e-13, -7.373801825474256e-25] [-2.760527895424547e-24, 1.4072976978765354e-13, -3.5467980778096397e-25] … [2.490660638513349e-26, 7.208782931234122e-15, 3.199547687836323e-27] [4.161388514011726e-25, 1.1762496302544007e-14, 5.346458813320741e-26]; [-3.4443240338046174e-25, 2.8780427707258366e-14, -7.3193820421767e-26] [-2.3946672832983764e-25, 1.9518009774730343e-14, -5.088799488816645e-26] … [-1.2862974091209058e-25, 1.2207124502748378e-14, -2.7334631457128585e-26] [7.734276749863239e-24, 2.827310801259704e-14, 1.6435361090904616e-24]]), (wing = [[-6.49836275694027e-6, 2.2380096291249578e-6, -9.595655104058241e-8] [-2.709439413623074e-5, 9.128793783726617e-6, -3.635943736698281e-7] … [2.7094394136230053e-5, 9.128793783726293e-6, 3.6359437366962817e-7] [6.498362756940101e-6, 2.238009629124878e-6, 9.595655104053348e-8]; [-1.0877182793758381e-7, 4.423678351071844e-8, -7.027106287355052e-9] [-4.853619844120284e-6, 1.8689854043689189e-6, -1.5337991429656923e-7] … [4.853619844120158e-6, 1.8689854043688536e-6, 1.5337991429652826e-7] [1.0877182793759632e-7, 4.4236783510723156e-8, 7.02710628735504e-9]; … ; [1.5968663119217438e-6, -2.086793962525839e-6, -7.144022054375203e-8] [6.706751913601752e-6, -8.825196786345056e-6, -2.9201696685420816e-7] … [-6.70675191360146e-6, -8.825196786344646e-6, 2.920169668542481e-7] [-1.5968663119216735e-6, -2.0867939625257415e-6, 7.144022054376069e-8]; [4.772826215459813e-7, -6.530864200638327e-7, -2.3956661801217718e-8] [1.65738568564588e-6, -2.285687266580656e-6, -7.883916896321398e-8] … [-1.6573856856458229e-6, -2.2856872665805705e-6, 7.883916896322401e-8] [-4.772826215459646e-7, -6.530864200638081e-7, 2.3956661801220543e-8]], htail = [[-6.639498812907325e-7, 1.6097550257003088e-5, 1.69830152557693e-8] [-2.848859393332534e-6, 7.23709042621914e-5, 6.750193058615255e-8] … [2.8488593941998085e-6, 7.237090428423754e-5, -6.750193062085212e-8] [6.639498814856357e-7, 1.609755026173189e-5, -1.6983015264220518e-8]; [-4.4337712158769325e-7, 1.0902969716141973e-5, 7.564051180875242e-9] [-2.310892290692711e-6, 5.9581205567262625e-5, 4.502342871730618e-8] … [2.3108922914654622e-6, 5.9581205587196204e-5, -4.502342874204447e-8] [4.433771217347635e-7, 1.0902969719759925e-5, -7.564051184807818e-9]; … ; [-1.206733095298339e-7, 3.1452689590123027e-6, 1.902502892444768e-9] [-4.952622597445689e-7, 1.3559390883001563e-5, 8.061490523085373e-9] … [4.952622598668863e-7, 1.3559390886351148e-5, -8.061490525791638e-9] [1.2067330956091434e-7, 3.145268959822538e-6, -1.9025028930789886e-9]; [-3.239000728761494e-8, 8.623051983744671e-7, 5.29055130252455e-10] [-9.974154423133536e-8, 2.7910763547238598e-6, 1.659881182253923e-9] … [9.974154425094593e-8, 2.79107635527271e-6, -1.6598811826598776e-9] [3.239000729514266e-8, 8.62305198574898e-7, -5.290551303987096e-10]], vtail = [[5.296177813886458e-16, 1.1005582167534864e-23, 2.0822032001232508e-13] [-4.181551610137732e-15, 2.376075696469569e-24, 1.5649973737235555e-13] … [-3.7965528075342523e-16, -1.2473394975153574e-26, 2.331982139183219e-15] [-8.237563252340789e-17, -2.689765496743742e-27, 4.92590076540255e-16]; [4.297709611054462e-15, 2.3982911027649757e-22, 1.4800037656548437e-12] [-7.396403112142156e-15, -1.0922585565179929e-23, 2.875442648249966e-13] … [-4.199032754169361e-16, -8.61879710097677e-27, 2.622863800593137e-15] [-1.1816404700078773e-16, 1.4022402417954151e-27, 7.183297019823448e-16]; … ; [-5.00966967210834e-16, 2.4270273119968346e-24, -1.1828497072061364e-13] [1.8269110140256493e-15, 9.3338075416245e-25, -8.299778458158361e-14] … [6.258894924141717e-16, 1.6468172648071374e-27, -4.183112252620902e-15] [1.0501113603242875e-15, 3.3081625030971974e-26, -6.8218337106156255e-15]; [-8.241552581316039e-17, 2.466032895767669e-25, -1.7620235652611567e-14] [2.4684699464337887e-16, 1.5054764964078312e-25, -1.1885175194683314e-14] … [1.0571043582639165e-15, 2.733467413051809e-26, -7.241502004915612e-15] [2.5178329853011106e-15, -1.5365063965150103e-24, -1.6757393965137073e-14]]))</code></pre><p>You can access the corresponding values of the components&#39; by the name provided in the <code>ComponentVector</code>.</p><pre><code class="language-julia hljs">CFs.wing</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10×40 reshape(view(::Vector{StaticArrays.SVector{3, Float64}}, 1:400), 10, 40) with eltype StaticArrays.SVector{3, Float64}:
 [2.55099e-7, -1.0033e-6, -1.29301e-5]   …  [2.55099e-7, 1.0033e-6, -1.29301e-5]
 [1.50677e-8, -1.41813e-8, -2.16652e-7]     [1.50677e-8, 1.41813e-8, -2.16652e-7]
 [-1.43002e-7, 1.74666e-7, 2.46629e-6]      [-1.43002e-7, -1.74666e-7, 2.46629e-6]
 [-3.29622e-7, 4.84687e-7, 6.41091e-6]      [-3.29622e-7, -4.84687e-7, 6.41091e-6]
 [-2.83706e-7, 7.04266e-7, 8.54983e-6]      [-2.83706e-7, -7.04266e-7, 8.54983e-6]
 [-9.50263e-8, 6.6838e-7, 7.59287e-6]    …  [-9.50263e-8, -6.6838e-7, 7.59287e-6]
 [1.00637e-8, 6.33058e-7, 6.93305e-6]       [1.00637e-8, -6.33058e-7, 6.93305e-6]
 [7.16772e-8, 5.03383e-7, 5.40457e-6]       [7.16772e-8, -5.03383e-7, 5.40457e-6]
 [6.96147e-8, 2.97874e-7, 3.17196e-6]       [6.96147e-8, -2.97874e-7, 3.17196e-6]
 [2.49065e-8, 8.92423e-8, 9.48021e-7]       [2.49065e-8, -8.92423e-8, 9.48021e-7]</code></pre><p>Special functions are provided for directly retrieving the dimensionalized forces and moments.</p><pre><code class="language-julia hljs">Fs, Ms   = surface_dynamics(system; axes = ax)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">((wing = StaticArrays.SVector{3, Float64}[[0.00017497105782928788, -0.000688156782853514, -0.008868665508795389] [0.0006808085970309142, -0.0029011547082583, -0.03720528230911332] … [0.0006808085970306374, 0.002901154708258295, -0.03720528230911236] [0.00017497105782922066, 0.0006881567828535129, -0.00886866550879516]; [1.0334857912537321e-5, -9.726884143972914e-6, -0.00014860044435487346] [0.0002458982255290786, -0.0004923328538438706, -0.00666716442441948] … [0.0002458982255290219, 0.0004923328538438708, -0.006667164424419308] [1.0334857912537402e-5, 9.726884143974316e-6, -0.00014860044435489056]; … ; [4.774842546329107e-5, 0.000204310504172796, 0.002175635318934847] [0.0001893048779271317, 0.0008635062343813634, 0.0091942515466788] … [0.00018930487792719636, -0.0008635062343813252, 0.0091942515466784] [4.774842546330516e-5, -0.000204310504172787, 0.0021756353189347514]; [1.708327382044763e-5, 6.121089097612969e-5, 0.0006502435287612827] [5.325721084845819e-5, 0.00021403564614542612, 0.0022720002636802297] … [5.325721084847409e-5, -0.00021403564614541824, 0.0022720002636801508] [1.7083273820452094e-5, -6.121089097612742e-5, 0.0006502435287612601]], htail = StaticArrays.SVector{3, Float64}[[-7.818939587992046e-5, -3.5912225279483454e-6, -0.003688977528010273] [-0.0003368894563983566, -1.2122928271176951e-5, -0.016631918617654225] … [-0.0003368894565380243, 1.2122928284518726e-5, -0.01663191862271928] [-7.818939591174644e-5, 3.591222531310159e-6, -0.0036889775290935905]; [-4.250362929479657e-5, 1.0611758613093663e-7, -0.002463001046501085] [-0.0002488733072072443, -2.9139145241883085e-6, -0.013489912355053969] … [-0.00024887330731819567, 2.913914531180303e-6, -0.013489912359566076] [-4.25036293128665e-5, -1.0611758530353597e-7, -0.00246300104731823]; … ; [-1.0746447930796226e-5, 3.675082894360811e-8, -0.0006703498311171679] [-4.7614399500135516e-5, 1.0963721212091156e-7, -0.0028909702992754717] … [-4.761439951538966e-5, -1.0963721201402834e-7, -0.0028909702999894956] [-1.0746447934239424e-5, -3.675082892707509e-8, -0.0006703498312898271]; [-2.905053230343842e-6, -6.8648305835942965e-9, -0.0001799321852531168] [-9.604808477919428e-6, -1.625216148362777e-8, -0.0005822239748656898] … [-9.604808480356035e-6, 1.6252161470740622e-8, -0.0005822239749801602] [-2.9050532311701844e-6, 6.864830580785602e-9, -0.00017993218529493377]], vtail = StaticArrays.SVector{3, Float64}[[1.8272419182884664e-20, -2.7222900050746563e-10, -2.718680736165278e-21] [3.2729519935078515e-21, -2.0371856090381762e-10, -4.869600268406861e-22] … [-9.480173037009251e-24, -2.973875082270998e-12, 1.4107085361101942e-24] [-2.014317654002552e-24, -6.277546991997841e-13, 2.9974270484780175e-25]; [6.175007134528651e-19, -1.8882149501532844e-9, -5.861765550947137e-20] [-2.1391755001331067e-20, -3.6585742307902365e-10, 2.030687300233523e-21] … [-7.882985497412118e-24, -3.29453327973168e-12, 7.485137880014468e-25] [1.2605548597224337e-24, -9.018982485852826e-13, -1.1960595653331445e-25]; … ; [-3.936483519440397e-21, 1.3710211682259915e-10, -5.057657629181932e-22] [-1.8934337132074376e-21, 9.652591846998341e-11, -2.432732907932198e-22] … [1.708332971000342e-23, 4.944471909092539e-12, 2.1945554215211104e-24] [2.854277734068044e-22, 8.067843504725562e-12, 3.66711214191866e-23]; [-2.3624464203479194e-22, 1.974036639578015e-11, -5.020331343679865e-23] [-1.642491558816397e-22, 1.3387315441890578e-11, -3.4903847658443524e-23] … [-8.822656288594903e-23, 8.372811994812211e-12, -1.8748701226606553e-23] [5.304905764487963e-21, 1.9392398090573755e-11, 1.1272940523381553e-21]]), (wing = StaticArrays.SVector{3, Float64}[[-0.03565758316019493, 0.0022806320097912324, -0.0005265293469252392] [-0.14867138819788508, 0.009302649569962016, -0.001995102012713024] … [0.1486713881978813, 0.009302649569961689, 0.001995102012711927] [0.03565758316019401, 0.0022806320097911513, 0.0005265293469249707]; [-0.000596848874899838, 4.507926291818311e-5, -3.855888570536977e-5] [-0.026632608811327733, 0.001904579803216912, -0.0008416207672143902] … [0.026632608811327042, 0.0019045798032168455, 0.0008416207672141653] [0.0005968488748999066, 4.507926291818791e-5, 3.85588857053697e-5]; … ; [0.00876226758074576, -0.0021265364754647293, -0.00039200421710851546] [0.03680104867008875, -0.008993270637318368, -0.001602345032011503] … [-0.03680104867008715, -0.00899327063731795, 0.001602345032011722] [-0.008762267580745374, -0.00212653647546463, 0.00039200421710856295]; [0.002618928090851131, -0.0006655243013140662, -0.00013145413581371076] [0.009094347318686918, -0.0023292176569294897, -0.0004326034616310204] … [-0.009094347318686604, -0.002329217656929402, 0.0004326034616310754] [-0.0026189280908510398, -0.0006655243013140411, 0.00013145413581372626]], htail = StaticArrays.SVector{3, Float64}[[-0.003643201986691347, 0.016404124413753583, 9.318859248765378e-5] [-0.015632159134385953, 0.07374919155393629, 0.0003703941736368603] … [0.01563215913914483, 0.0737491915764023, -0.00037039417382726255] [0.0036432019877608124, 0.016404124418572443, -9.318859253402699e-5]; [-0.0024328830469576616, 0.01111061427655254, 4.1505190476166086e-5] [-0.012680245334353548, 0.06071591597743917, 0.0002470509440135292] … [0.01268024533859376, 0.060715915997752376, -0.00024705094414927223] [0.00243288304776466, 0.011110614280239395, -4.150519049774477e-5]; … ; [-0.0006621542580368366, 0.003205169885766249, 1.043934566863151e-5] [-0.0027175853170227, 0.013817626375957898, 4.4234721802047626e-5] … [0.0027175853176938758, 0.013817626379371273, -4.423472181689734e-5] [0.0006621542582073801, 0.003205169886591915, -1.0439345672111582e-5]; [-0.00017772928683982138, 0.0008787276033263146, 2.903012344633575e-6] [-0.000547298225873387, 0.002844231764473456, 9.108040518213559e-6] … [0.0005472982259809935, 0.0028442317650327585, -9.108040520441098e-6] [0.00017772928688112723, 0.0008787276035305626, -2.903012345436098e-6]], vtail = StaticArrays.SVector{3, Float64}[[2.9060997037776112e-12, 1.1215180958574045e-20, 1.1425390754851834e-9] [-2.294486009078051e-11, 2.421327513757954e-21, 8.587397485533644e-10] … [-2.0832308462949735e-12, -1.271094792484292e-23, 1.279596879494107e-11] [-4.520086176998989e-13, -2.7409914644130803e-24, 2.7029226091390358e-12]; [2.358223810926474e-11, 2.443966007376783e-19, 8.121023606273311e-9] [-4.058527800342645e-11, -1.1130603704941499e-20, 1.5778025817786265e-9] … [-2.3040781997629653e-12, -8.782940117227709e-24, 1.4392084219618208e-11] [-6.48385522641961e-13, 1.4289455859519287e-24, 3.941592989329163e-12]; … ; [-2.7488879833236362e-12, 2.4732494911300944e-21, -6.490490509423975e-10] [1.0024560623261988e-11, 9.51156776791111e-22, -4.554224681700029e-10] … [3.4343583852740677e-12, 1.6781805223351436e-24, -2.2953423592266715e-11] [5.762133410948465e-12, 3.371165700079882e-23, -3.743252138109804e-11]; [-4.52227518729295e-13, 2.5129979273077974e-22, -9.66851254055043e-11] [1.3544899797937487e-12, 1.5341479513823627e-22, -6.521590725683793e-11] … [5.8005051385509426e-12, 2.785525673705274e-23, -3.973531020089991e-11] [1.3815762895195579e-11, -1.565768808828238e-21, -9.195057142999013e-11]]))</code></pre><p>A Trefftz plane integration is performed to compute farfield forces.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The farfield forces are usually more accurate compared to nearfield forces, as the components do not interact as in the evaluation of the Biot-Savart integrals for the latter.</p></div></div><p>To obtain the nearfield and farfield coefficients of the components (in wind axes by definition):</p><pre><code class="language-julia hljs">nfs = nearfield_coefficients(system)
ffs = farfield_coefficients(system)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(wing = [0.001907324621202211, 1.2432368221209325e-16, 0.18516132203700297], htail = [1.1873548435796946e-5, 3.208633890781998e-16, -0.0037287123235932775], vtail = [2.4056983171617165e-23, -9.081012061834357e-13, 5.560516177271974e-29])</code></pre><p>You can similarly access the components by name.</p><pre><code class="language-julia hljs">@show (nfs.wing, ffs.wing)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">([0.0016269629464751901, 8.64825271358071e-17, 0.18515526604512875, 5.781423381484227e-16, -0.049841276554449275, 1.2657476705128047e-16], [0.001907324621202211, 1.2432368221209325e-16, 0.18516132203700297])</code></pre><p>To obtain the total nearfield and farfield force coefficients:</p><pre><code class="language-julia hljs">nf = nearfield(system)
ff = farfield(system)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3×1 StaticArrays.SMatrix{3, 1, Float64, 3} with indices SOneTo(3)×SOneTo(1):
  0.0019191981696380078
 -9.076560191121454e-13
  0.1814326097134097</code></pre><p>You can also print the relevant information as a pretty table, if necessary.</p><pre><code class="language-julia hljs">print_coefficients(nfs.wing, ffs.wing, :wing)
print_coefficients(nf, ff, :aircraft)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">──────────────────────────────
 wing  Nearfield    Farfield
──────────────────────────────
 CDi   0.00162696  0.00190732
  CY      0.0         0.0
  CL    0.185155    0.185161
  Cl      0.0          —
  Cm   -0.0498413      —
  Cn      0.0          —
──────────────────────────────
─────────────────────────────────
 aircraft  Nearfield   Farfield
─────────────────────────────────
   CDi     0.00154868  0.0019192
    CY        -0.0       -0.0
    CL      0.181431   0.181433
    Cl        0.0          —
    Cm     -0.0387301      —
    Cn        0.0          —
─────────────────────────────────</code></pre><h2 id="Aerodynamic-Stability-Analyses"><a class="docs-heading-anchor" href="#Aerodynamic-Stability-Analyses">Aerodynamic Stability Analyses</a><a id="Aerodynamic-Stability-Analyses-1"></a><a class="docs-heading-anchor-permalink" href="#Aerodynamic-Stability-Analyses" title="Permalink"></a></h2><p>The derivatives of the aerodynamic coefficients with respect to the freestream values is obtained by automatic differentiation enabled by <a href="https://github.com/JuliaDiff/ForwardDiff.jl">ForwardDiff</a>. To compute the values, simply replace <code>solve_case</code> with <code>solve_case_derivatives</code>. You can also optionally provide the axes for the reference frame of the coefficients.</p><pre><code class="language-julia hljs">dv_data = solve_case_derivatives(
             aircraft, fs, refs;
             axes             = Wind(),
             name             = :aircraft,
             print            = true,    # Prints the results for only the aircraft
             print_components = true,    # Prints the results for all components
            );</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">──────────────────────────────────────────────────────────────────────────────
 wing    Values                              Derivatives
                   ∂/∂α, 1/rad  ∂/∂β, 1/rad     ∂/∂p̄        ∂/∂q̄      ∂/∂r̄
──────────────────────────────────────────────────────────────────────────────
  CX   0.00162696   0.0729149       0.0          0.0      1.31785     -0.0
  CY      -0.0        -0.0       0.0105476     1.20838      0.0     -0.124457
  CZ    0.185155     4.38916        0.0          0.0      93.8864     -0.0
  Cℓ      -0.0         0.0       0.052858      4.13465      -0.0    -0.352393
  Cm   -0.0498413  -0.00918654     -0.0         -0.0      -7.64625     0.0
  Cn      -0.0         0.0      -0.00259716   -0.111102     -0.0    0.014581
──────────────────────────────────────────────────────────────────────────────
─────────────────────────────────────────────────────────────────────────────────
 htail    Values                               Derivatives
                     ∂/∂α, 1/rad  ∂/∂β, 1/rad     ∂/∂p̄        ∂/∂q̄       ∂/∂r̄
─────────────────────────────────────────────────────────────────────────────────
  CX     -7.828e-5   0.00270834      -0.0         -0.0      0.460097     0.0
  CY       -0.0          0.0      -0.00179088  -0.0300318     0.0     0.0318368
  CZ    -0.00372443   0.220267        0.0         -0.0      25.3962      0.0
  Cℓ       -0.0        2.0e-8     -0.0131985    -0.197567     -0.0     0.24061
  Cm     0.0111112    -0.658811      -0.0          0.0      -76.0892     -0.0
  Cn        0.0         -0.0      0.00140224    0.0248056     -0.0    -0.0267971
─────────────────────────────────────────────────────────────────────────────────
───────────────────────────────────────────────────────────────────────
 vtail  Values                            Derivatives
                ∂/∂α, 1/rad  ∂/∂β, 1/rad     ∂/∂p̄      ∂/∂q̄    ∂/∂r̄
───────────────────────────────────────────────────────────────────────
  CX     0.0        0.0         -0.0          0.0      0.0     -0.0
  CY     0.0      -4.2e-7     0.231343      5.12757    0.0   -6.46842
  CZ     -0.0       0.0         -0.0         -0.0      -0.0     0.0
  Cℓ     0.0      -2.0e-8    0.00876382    0.183741    0.0   -0.230349
  Cm     0.0       -0.0          0.0          0.0      0.0     -0.0
  Cn     -0.0     1.7e-7     -0.0832105    -2.07307    -0.0   2.75799
───────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────────────────
 aircraft    Values                              Derivatives
                       ∂/∂α, 1/rad  ∂/∂β, 1/rad     ∂/∂p̄        ∂/∂q̄      ∂/∂r̄
──────────────────────────────────────────────────────────────────────────────────
    CX     0.00154868   0.0756233      -0.0         -0.0      1.77794      0.0
    CY        0.0        -4.2e-7     0.240099      6.30592      0.0     -6.56104
    CZ      0.181431     4.60943       -0.0         -0.0      119.283      0.0
    Cℓ        -0.0         0.0       0.0484233     4.12082      -0.0    -0.342132
    Cm     -0.0387301   -0.667997       0.0          0.0      -83.7355    -0.0
    Cn        -0.0       1.7e-7     -0.0844054    -2.15937      -0.0     2.74577
──────────────────────────────────────────────────────────────────────────────────</code></pre><h2 id="Euler-Bernoulli-Beam-Structural-Analysis"><a class="docs-heading-anchor" href="#Euler-Bernoulli-Beam-Structural-Analysis">Euler-Bernoulli Beam Structural Analysis</a><a id="Euler-Bernoulli-Beam-Structural-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Euler-Bernoulli-Beam-Structural-Analysis" title="Permalink"></a></h2><p>The tubular beam&#39;s relevant properties, viz. the Young&#39;s (elastic) modulus <span>$E$</span>, shear modulus <span>$G$</span>, and torsional moment of inertia <span>$J$</span> must be specified to define the stiffness matrix for its discretization with <span>$n$</span> elements.</p><pre><code class="language-julia hljs"># Material properties
E = 1. # Elastic modulus
G = 1. # Shear modulus
J = 2. # Torsional moment of inertia
n = 2  # Number of sections

# Stiffness matrix
K = bending_stiffness_matrix(
                             fill(E, 2),
                             fill(G, 2),
                             fill(J, 2),
                             :z         # Direction of deflection
                            )</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6×6 SparseArrays.SparseMatrixCSC{Float64, Int64} with 26 stored entries:
  1.5   1.5  -1.5   1.5    ⋅     ⋅ 
  1.5   2.0  -1.5   1.0    ⋅     ⋅ 
 -1.5  -1.5   3.0    ⋅   -1.5   1.5
  1.5   1.0    ⋅    4.0  -1.5   1.0
   ⋅     ⋅   -1.5  -1.5   1.5  -1.5
   ⋅     ⋅    1.5   1.0  -1.5   2.0</code></pre><p>Fixed, hinged beam subjected to force and moment at the center.</p><pre><code class="language-julia hljs"># Stiffness matrix
A = K[[3,4,6],[3,4,6]]  # v2, φ2, φ3

# Load vector
b = [-1000, 1000, 0]    # F2, M2, M3

# Solution
x = A \ b

# Forces
F1 = K * [ 0.; 0.; x[1:2]; 0.; x[3] ]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6-element Vector{Float64}:
   968.7500000000001
   875.0000000000001
 -1000.0000000000001
  1000.0
    31.25
     0.0</code></pre><p>Propped cantilever beam subjected to force at free end.</p><pre><code class="language-julia hljs"># Stiffness matrix
A = K[[1,2,4],[1,2,4]] # v1, φ1, φ2

# Load vector
b = [10, 0, 0]

# Solution
x = A \ b

# Forces
F2 = K * [ x[1:2]; 0.; x[3]; 0.; 0. ]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6-element Vector{Float64}:
  10.000000000000014
   5.329070518200751e-15
 -25.00000000000003
   7.105427357601002e-15
  15.000000000000014
 -10.000000000000009</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorials-aircraft/">« Aircraft Aerodynamic Analysis</a><a class="docs-footer-nextpage" href="../theory/">Theory »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Tuesday 8 February 2022 06:31">Tuesday 8 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
