<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Theory · AeroMDAO</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/><link href="https://fonts.googleapis.com/css?family=Montesserat|Fira+Code&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="AeroMDAO logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">AeroMDAO</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials-airfoil/">Airfoil Aerodynamic Analysis</a></li><li><a class="tocitem" href="../tutorials-aircraft/">Aircraft Aerodynamic Analysis</a></li></ul></li><li><a class="tocitem" href="../howto/">How-to Guide</a></li><li class="is-active"><a class="tocitem" href>Theory</a><ul class="internal"><li><a class="tocitem" href="#Geometry"><span>Geometry</span></a></li><li><a class="tocitem" href="#Aerodynamics"><span>Aerodynamics</span></a></li><li><a class="tocitem" href="#Structures"><span>Structures</span></a></li><li><a class="tocitem" href="#Aeroelasticity"><span>Aeroelasticity</span></a></li><li><a class="tocitem" href="#Flight-Dynamics"><span>Flight Dynamics</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../geometry/">Geometry API</a></li><li><a class="tocitem" href="../aerodynamics/">Aerodynamics API</a></li><li><a class="tocitem" href="../structures/">Structures API</a></li><li><a class="tocitem" href="../development/">In-Progress API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Theory</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GodotMisogi/AeroMDAO.jl/blob/main/docs/lit/theory.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Theory"><a class="docs-heading-anchor" href="#Theory">Theory</a><a id="Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Theory" title="Permalink"></a></h1><p>The following theory described is meant to be minimal, with mainly the equations presented for reference when reading the code.</p><h2 id="Geometry"><a class="docs-heading-anchor" href="#Geometry">Geometry</a><a id="Geometry-1"></a><a class="docs-heading-anchor-permalink" href="#Geometry" title="Permalink"></a></h2><h3 id="Wing-Parametrization"><a class="docs-heading-anchor" href="#Wing-Parametrization">Wing Parametrization</a><a id="Wing-Parametrization-1"></a><a class="docs-heading-anchor-permalink" href="#Wing-Parametrization" title="Permalink"></a></h3><p>A <strong>half-wing</strong> is defined in terms of a nested trapezoid. A single trapezoid is called a <strong>section</strong>. A section consists of two foil profiles, and their associated chord lengths and twist angles. Between them is their span length with associated <em>leading-edge</em> dihedral and sweep angles. So a general half-wing consisting of <span>$n$</span> sections will have <span>$n$</span> entries for foils, chords, and twists, and <span>$n - 1$</span> entries for spans, dihedrals, sweeps for some <span>$n \in \mathbb N$</span>. The following illustration should help visualize the concept.</p><p><img src="https://godot-bloggy.xyz/post/diagrams/WingGeometry.svg" alt/></p><h2 id="Aerodynamics"><a class="docs-heading-anchor" href="#Aerodynamics">Aerodynamics</a><a id="Aerodynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Aerodynamics" title="Permalink"></a></h2><p>The aerodynamic analyses in AeroMDAO mainly utilize potential flow theory and solve problems using a <em>boundary element method</em>. This essentially is the following Laplace equation problem with the following Robin (?) boundary conditions:</p><p class="math-container">\[\nabla^2 \phi = 0, \quad \mathbf V \equiv \nabla \phi \cdot \hat{\mathbf n} = 0, \quad \lim_{\mathbf r \to \infty} \phi(\mathbf r) \to 0\]</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Implementations of viscous-inviscid coupled analyses for drag prediction (á là XFOIL) are in progress.</p></div></div><h3 id="Doublet-Source-Panel-Method"><a class="docs-heading-anchor" href="#Doublet-Source-Panel-Method">Doublet-Source Panel Method</a><a id="Doublet-Source-Panel-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Doublet-Source-Panel-Method" title="Permalink"></a></h3><p>The doublet-source panel method predicts <strong>inviscid, incompressible, irrotational, isentropic</strong> external flow over surfaces in 2 dimensions.</p><p>Source and doublet singularities are placed on the surface, and boundary conditions are imposed on their induced velocity to obtain a well-posed problem. The induced velocity is evaluated by the corresponding free-field Green function for each singularity.</p><p class="math-container">\[\]</p><p>The velocities are added to obtain the total induced velocity at a point <span>$\mathbf r$</span>.</p><p class="math-container">\[\]</p><h3 id="Vortex-Lattice-Method"><a class="docs-heading-anchor" href="#Vortex-Lattice-Method">Vortex Lattice Method</a><a id="Vortex-Lattice-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Vortex-Lattice-Method" title="Permalink"></a></h3><p>The vortex lattice method predicts <strong>inviscid, incompressible, irrotational, isentropic</strong> external flow over &quot;thin&quot; surfaces in 3 dimensions.</p><p>Vortex filaments are placed on the surface, and boundary conditions are imposed on their induced velocity to obtain a well-posed problem. The induced velocity is evaluated by the Biot-Savart integral for a vortex line of length <span>$\ell$</span> with a constant circulation strength <span>$\Gamma$</span>.</p><p class="math-container">\[\mathbf V(\mathbf r, \mathbf r&#39;) = \frac{\Gamma}{4\pi} \int_0^\ell \frac{d\boldsymbol\ell&#39; \times (\mathbf r - \mathbf r&#39;)}{|\mathbf r - \mathbf r&#39;|^3}\]</p><p>The vortices can be set up in various configurations consisting of bound or semi-infinite filaments, commonly in the form of <em>horseshoes</em> or <em>vortex rings</em>.</p><ol><li><em>Horseshoe elements:</em> These are defined by a finite <em>bound leg</em> and two semi-infinite <em>trailing legs</em>. AeroMDAO encodes this using the following <code>Horseshoe</code> type.<pre><code class="language-julia hljs">struct Horseshoe{T &lt;: Real} &lt;: AbstractVortexArray
    bound_leg         :: Line{T}
    collocation_point :: SVector{3,T}
    normal            :: SVector{3,T}
    chord             :: T
end</code></pre></li><li><em>Vortex rings:</em> These are defined by four <em>bound legs</em>. AeroMDAO encodes this using the following <code>VortexRing</code> type.<pre><code class="language-julia hljs">struct VortexRing{T &lt;: Real} &lt;: AbstractVortexArray
    left_leg  :: Line{T}
    bound_leg :: Line{T}
    back_leg  :: Line{T}
    right_leg :: Line{T}
end</code></pre></li></ol><p>A quasi-steady freestream condition with velocity <span>$\mathbf U$</span> and rotation <span>$\boldsymbol\Omega$</span> (in the body&#39;s frame) is imposed for the external flow. The induced velocity at a point is given by:</p><p class="math-container">\[\mathbf V_{\infty}(\mathbf r) = - (\mathbf U + \boldsymbol\Omega \times \mathbf r)\]</p><p>The velocities are added to obtain the total induced velocity at a point <span>$\mathbf r$</span>.</p><p class="math-container">\[\mathbf V(\mathbf r) = \sum_i \frac{\Gamma_i}{4\pi} \int_0^{\ell_i} \frac{d\boldsymbol\ell_i&#39; \times (\mathbf r - \mathbf r_i&#39;)}{|\mathbf r - \mathbf r_i&#39;|^3} + \mathbf V_\infty(\mathbf r)\]</p><p>Imposing the Neumann boundary condition <span>$\mathbf V \cdot \hat{\mathbf n} = 0$</span> defines the problem. The construction, in essence, fundamentally results in the following linear system to be solved:</p><p class="math-container">\[\mathbf A \boldsymbol\Gamma = -V_{\infty} \cdot [\hat{\mathbf n}_i ]_{i = 1, \ldots, N}\]</p><h2 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h2><p>The structural analyses in AeroMDAO utilize <em>linear finite-element methods</em>.</p><p>Particularly, a <span>$2$</span>-dimensional beam element model has been implemented following the standard formulation using cubic Hermite shape functions based on <strong>Euler-Bernoulli beam theory</strong>. These are embedded into a <span>$3$</span>-dimensional local coordinate system in the vortex lattice method without loss of generality.</p><p>The linear system consisting of the stiffness matrix <span>$\mathbf K$</span> and load vector <span>$\mathbf f$</span> are solved to obtain the displacement vector <span>$\boldsymbol\delta$</span>.</p><p class="math-container">\[\mathbf K \boldsymbol\delta = \mathbf f\]</p><h2 id="Aeroelasticity"><a class="docs-heading-anchor" href="#Aeroelasticity">Aeroelasticity</a><a id="Aeroelasticity-1"></a><a class="docs-heading-anchor-permalink" href="#Aeroelasticity" title="Permalink"></a></h2><p>The vortex lattice method and beam element model are combined into a coupled system to perform static aeroelastic analyses. The analysis is made nonlinear via promotion of the angle of attack <span>$\alpha$</span> to a variable by specifying the load factor <span>$n$</span> with a given weight <span>$W$</span> at fixed sideslip angle <span>$\beta$</span>.</p><p>Define <span>$\mathbf x = [\boldsymbol\Gamma, \boldsymbol\delta, \alpha]$</span> as the state vector satisfying the residual equations:</p><p class="math-container">\[\begin{align*}
    \mathcal R_A(\mathbf x) &amp; = \mathbf A(\boldsymbol\delta) \boldsymbol\Gamma - \mathbf V_\infty(\alpha) \cdot [\mathbf n_i(\boldsymbol\delta)]_{i = 1,\ldots, N} \\
    \mathcal R_S(\mathbf x) &amp; = \mathbf K \boldsymbol\delta - \mathbf f(\boldsymbol\delta, \boldsymbol\Gamma, \alpha) \\
    \mathcal R_L(\mathbf x) &amp; = L(\boldsymbol\delta, \boldsymbol\Gamma, \alpha) - n W \\
\end{align*}\]</p><p>where the lift <span>$L$</span> is obtained from the Kutta-Jowkowski theorem.</p><p class="math-container">\[[D, Y, L] = \mathbf R_B^W(\alpha, \beta)\left(\sum_{i = 1}^N \rho \mathbf V_i \times  \boldsymbol\Gamma_i \mathbf l_i(\boldsymbol\delta)\right)\]</p><p>and the structural load vector <span>$\mathbf f$</span> is obtained from conservative and consistent load averaging of the nearfield Kutta-Jowkowski forces.</p><p class="math-container">\[\]</p><h2 id="Flight-Dynamics"><a class="docs-heading-anchor" href="#Flight-Dynamics">Flight Dynamics</a><a id="Flight-Dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Flight-Dynamics" title="Permalink"></a></h2><h3 id="Longitudinal-Motion"><a class="docs-heading-anchor" href="#Longitudinal-Motion">Longitudinal Motion</a><a id="Longitudinal-Motion-1"></a><a class="docs-heading-anchor-permalink" href="#Longitudinal-Motion" title="Permalink"></a></h3><p>A standard three degrees-of-freedom rigid body model is used for performing flight dynamics analyses in the 2-dimensional longitudinal plane formulated as an initial-value problem. The coupled differential equations are shown in a canonical state-space representation, with the time-evolution of the state vector <span>$\mathbf x$</span> driven by the forcing function <span>$\mathbf f$</span> are shown below subject to initial conditions <span>$\mathbf x_0$</span>.</p><p class="math-container">\[\begin{align*}
    \frac{d\mathbf x}{dt} &amp; = \mathbf f(\mathbf x, t) \\
    \frac{d}{dt}
    \begin{bmatrix}
        u_b \\
        w_b \\
        Q \\
        x_e \\
        y_e \\
        \Theta \\
        \delta_e \\
        m
    \end{bmatrix} &amp; =
    \begin{bmatrix}
        -Qw_b + (T - D(V_\infty)\cos\alpha + L(V_\infty, \delta_e)\sin\alpha - W\sin\Theta) / m \\
        Qu_b + (  - D(V_\infty)\sin\alpha - L(V_\infty, \delta_e)\cos\alpha + W\cos\Theta) / m \\
        (M_A(\alpha, \delta_e, \hat Q) - T\Delta_{zT}) / I_{yy} \\
        u_b \cos\Theta - w_b \sin\Theta \\
        u_b \sin\Theta + w_b \cos\Theta \\
        Q \\
        g(\mathbf x, t) \\
        -c_T T
    \end{bmatrix}
\end{align*}\]</p><p>The fuel burn over time (viz. reduction of mass <span>$m$</span>) is computed using a specific fuel consumption value with a linear dependence on the thrust. A manual controller law for the elevator deflection angle <span>$\delta_e$</span> can also be implemented by providing the function <span>$g(\mathbf x, t)$</span>.</p><h3 id="Full-Space"><a class="docs-heading-anchor" href="#Full-Space">Full Space</a><a id="Full-Space-1"></a><a class="docs-heading-anchor-permalink" href="#Full-Space" title="Permalink"></a></h3><p>A standard six degrees-of-freedom rigid body model is used for performing flight dynamics analyses in 3 dimensions.</p><p class="math-container">\[\]</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><ol><li>Mark Drela. <em>Flight Vehicle Aerodynamics</em>. MIT Press, 2014.</li><li>Joseph Katz and Allen Plotkin. <em>Low-Speed Aerodynamics, Second Edition</em>. Cambridge University Press, 2001.</li></ol><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../howto/">« How-to Guide</a><a class="docs-footer-nextpage" href="../geometry/">Geometry API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Thursday 3 February 2022 13:43">Thursday 3 February 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
